package com.mylearn.thread.future;

import java.util.concurrent.*;

/**
 * Created by IntelliJ IDEA.
 * User: yingkuohao
 * Date: 13-8-14
 * Time: ????11:01
 * CopyRight:360buy
 * Descrption:  ???????????????????????????¡Â????????§ß?????futureTask
 * To change this template use File | Settings | File Templates.
 */
public class FuterTaskTest {

    public static void main(String args[]) {
        CountNum countNum = new CountNum(100);    //new???callable?????
        FutureTask<Integer> futureTask = new FutureTask<Integer>(countNum);//new???futureTask
        Thread maiThread = new Thread(futureTask);    //????futureTask??????Runnable????????????new Thread 4???????
        System.out.println("???????");
        maiThread.start();   //???????

 /*       //??????????????
        ExecutorService executorService = Executors.newFixedThreadPool(10);
        Future future = executorService.submit(futureTask);  //?§Ù????
        executorService.execute(futureTask);  //??????
*/

        long begin = System.nanoTime();
    /*    try {
            Thread.sleep(4000); //???4????????????3?????????4??
            Thread.sleep(1000);//???1?????????????3?????????3??????????????????§µ??????????????
        } catch (InterruptedException e) {
            e.printStackTrace();
        }*/
        System.out.println("?????dosomthing");      //???????????????????

        try {
            Integer  result = futureTask.get();   //get??????????????????????????w???????????

            System.out.println(" maiThread.interrupted"+ maiThread.interrupted());
            System.out.println(" Thread.interrupted"+ Thread.currentThread().interrupted());
            System.out.println("??????" +result);
        } catch (InterruptedException e) {
            e.printStackTrace();
        } catch (ExecutionException e) {
            e.printStackTrace();
        }

        long end = System.nanoTime();
        System.out.println(String.format("????????%dns" , (end - begin)));
    }
}
